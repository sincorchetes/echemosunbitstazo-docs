<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../../../img/favicon.ico">
  <title>Diferencias entre gestores de servicios - Echemos un bitstazo</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../../../css/theme.css" />
  <link rel="stylesheet" href="../../../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Diferencias entre gestores de servicios";
    var mkdocs_page_input_path = "sistemas/linux/systemd/diferencias-entre-gestores-de-servicios.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/python.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114291557-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-114291557-1');
  </script>
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../../../.." class="icon icon-home"> Echemos un bitstazo</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../..">¡Bienvenidos a Echemos un bitstazo!</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Automatizacion</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Ansible</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../automatizacion/ansible/">Introducción</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Contenedores</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Docker</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../contenedores/docker/docker/">Introducción</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Desarrollo</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Python</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/">Introducción</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/controles-de-flujo/">Condicionales</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/fecha-y-hora/">Fecha y hora</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/funciones-print-type-tipos-de-datos/">Función print()</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/imprimir-valores-y-funciones/">Imprimir valores y funciones</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/instalacion/">Instalación</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/introducir-datos-y-control-de-excepciones/">Obtener datos introducidos por el usuario</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/modulos/">Modulos</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/programacion-orientada-a-objetos/">Programación orientada a objetos</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/tipos-de-operadores/">Tipos de operadores</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../desarrollo/python/tuplas-dic-sets-listas-y-mas/">Tuplas</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Redes</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../../redes/conversion-numeros/">Conversión de números</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Servicios</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Monitorizacion</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="#">Zabbix</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../servicios/monitorizacion/zabbix/">Introducción</a>
                </li>
    </ul>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Web</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../servicios/web/NGINX/">NGINX</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Sistemas</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="#">Linux</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="#">Acl</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../acl/gestion-de-usuarios-y-grupos/">Gestión de usuari@s y grupos</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Almacenamiento</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../almacenamiento/lvm/">Lvm</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Bash</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../bash/">Introducción</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../bash/bash-scripting/">Aprendiendo scripting</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Entornos escritorio</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="#">Workaround</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../entornos-escritorio/workaround/ajustando-la-apariencia-en-aplicaciones-qt/">Ajustando la apariencia en aplicaciones Qt</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Systemd</a>
    <ul class="current">
                <li class="toctree-l3"><a class="reference internal" href="../">Introducción</a>
                </li>
                <li class="toctree-l3 current"><a class="reference internal current" href="./">Diferencias entre gestores de servicios</a>
    <ul class="current">
    <li class="toctree-l4"><a class="reference internal" href="#introduccion">Introducción</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#breves-diferencias-a-nivel-de-servicios">Breves diferencias a nivel de servicios</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#fuentes">Fuentes</a>
    </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../..">Echemos un bitstazo</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Sistemas &raquo;</li>
        
      
        
          <li>Linux &raquo;</li>
        
      
        
          <li>Systemd &raquo;</li>
        
      
    
    <li>Diferencias entre gestores de servicios</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="diferencias-entre-gestores-de-servicios">Diferencias entre gestores de servicios</h1>
<h2 id="introduccion">Introducción</h2>
<p>Red Hat 6 y 7 tienen gestores de servicio diferentes. La versión 6 utiliza Upstart, sin embargo, el equipo de Red Hat lo implementó como reemplazo de SysVinit por su modo de arranque que es más cómodo y más moderno, no obstante, ellos utilizan para todo el sistema scripts de SysVinit por su compatibilidad con Upstart.</p>
<p>En Red Hat 7, utilizan el gestor de servicios de systemd, este gestor de servicios es una síntesis de todos los gestores que habían en el ecosistema UNIX incluyendo el de OS X, y Lennart Poettering, voluntario del proyecto Fedora elaboró un gestor de servicios con cada una de las ideas de cada gestor (SysVinit, Upstart, runit, rc.d…). Este soportaba paralelización de procesos en el arranque acelerando las cargas del sistema operativo, también permite una mayor escritura en logs porque no usa texto si no, binarios. Hoy en día, es el gestor de servicios estándar después de que los demás proyectos comunitarios como OpenSUSE, ArchLinux, el proyecto Debian y por consiguiente Ubuntu lo hubiesen adoptado por defecto.</p>
<h2 id="breves-diferencias-a-nivel-de-servicios">Breves diferencias a nivel de servicios</h2>
<h3 id="sysvinit">SysVinit</h3>
<ul>
<li>Directorio de scripts de arranque: <code>/etc/init.d</code></li>
<li>Los logs son específicos de cada servicio, por lo general se almacenan en <code>/var/log/</code> (el texto es más difícil de procesar a nivel de servicio)</li>
<li>No existe paralelización al arranque/parada de servicios</li>
<li>La elaboración de servicios es más enrrebesada y compleja de mantener, las funciones de arranque, parada, reinicio o consulta del servicio están definidos como funciones dentro del script del servicio.</li>
</ul>
<h4 id="elaborando-servicios-para-sysvinit-rhel6">Elaborando servicios para SysVinit (RHEL6)</h4>
<p>Vamos a elaborar un ejemplo de servicio que monitorice el servicio nfs y que lo reinicie en caso de que esté caído. Para ello, verificamos si el archivo <code>/var/lock/subsys/nfs</code> existe, si no existe, reiniciaremos el servicio.</p>
<h4 id="creando-el-servicio-o-demonio-etcinitdcheck_nfs_working">Creando el servicio (o demonio) /etc/init.d/check_nfs_working</h4>
<pre><code>#!/bin/bash
#
# checking_nfs        Check NFS is working on system
#
# chkconfig: 2345 12 88
# description: System would be check if NFS service is loaded
### BEGIN INIT INFO
# Provides: $checking_nfs
# Required-Start: $local_fs
# Required-Stop: $local_fs
# Default-Start:  2 3 4 5
# Default-Stop: 0 1 6
# Short-Description: System would be check if NFS service is loaded
# Description: System would be check if NFS service is loaded
### END INIT INFO

# Source function library.
. /etc/init.d/functions

prog=checking_nfs
script=/admin/bin/checking_nfs
lockfile=/var/lock/subsys/$prog

start() {
  echo -n &quot;Starting NFS is working: &quot;
  ${script} &amp;
  touch /var/lock/subsys/checking_nfs
  success $&quot;Checking NFS is started&quot;
  echo
}

stop() {
  echo -n &quot;Stopping NFS is working: &quot;
  killproc checking_nfs
  rm -f /var/lock/subsys/checking_nfs
  echo
  }

restart() {
  stop
  start
}

case &quot;$1&quot; in
  start)
    start
    ;;
  stop)
    stop
    ;;
  restart)
    restart
    ;;
  reload)
    exit 3
    ;;
  force-reload)
    restart
    ;;
  status)
    status checking_nfs
    ;;
  condrestart|try-restart)
    rhstatus &gt;/dev/null 2&gt;&amp;1 || exit 0
    restart
    ;;
  *)
    echo $&quot;Usage: $0 {start|stop|restart|condrestart|try-restart|reload|force-reload|status}&quot;
    exit 3
esac

exit $?
</code></pre>
<p>El contenido de arriba sería todo lo que necesitaríamos para elaborar el objetivo que tenemos, vamos a explicar un poco qué es cada parte:</p>
<pre><code>#!/bin/bash
</code></pre>
<p>Declaramos el BashGang para que, al leer el script lo interprete con la Shell Bash y no con otra como SH, KSH, Fish…etc</p>
<pre><code>#
# checking_nfs        Check NFS is working on system
#
# chkconfig: 2345 12 88
# description: System would be check if NFS service is loaded
</code></pre>
<p>Definimos algunos datos necesarios para que podamos identificar que hace este servicio, también es importante incluir esta cabecera porque si no no se podrá configurar al arranque del inicio del sistema operativo. Si nos fijamos en el comando chkconfig, tenemos 3 argumentos con solo números enteros, lo explicamos:</p>
<ul>
<li><code>2345</code> – Se refiere a los runlevels en el que el servicio se habilitará por defecto.</li>
<li><code>12</code> – Es la prioridad para que arranque, si el valor es muy bajo tendrá una prioridad más alta para que se arranque en el inicio del sistema.</li>
<li><code>88</code> – Es la prioridad para que se detenga el servicio, si el valor es muy bajo tendrá una prioridad más alta para que se detenga en el apagado del sistema.</li>
</ul>
<pre><code>### BEGIN INIT INFO
# Provides: $checking_nfs
# Required-Start: $local_fs
# Required-Stop: $local_fs
# Default-Start:  2 3 4 5
# Default-Stop: 0 1 6
# Short-Description: System would be check if NFS service is loaded
# Description: System would be check if NFS service is loaded
### END INIT INFO
</code></pre>
<p>Este bloque, es la parte de Linux Standard Base, se definen las dependencias necesarias para el arranque o inicio del servicio incluyendo información adicional, incluyendo los runlevels de ejecución y de parada.</p>
<pre><code># Source function library.
. /etc/init.d/functions
</code></pre>
<p>Permite cargar funciones adicionales como <code>daemon</code>, <code>killproc</code>… que se pueden utilizar en otros scripts, sin embargo, principalmente utilizaremos <code>killproc</code>.</p>
<pre><code>prog=checking_nfs
script=/admin/bin/checking_nfs
lockfile=/var/lock/subsys/$prog
</code></pre>
<p>Definimos como se llama el programa, dónde está ubicado el script, y el archivo que se bloqueará para que no haya una ejecución descontrolada del servicio (se ejecuten 2,3, 4 a la vez)</p>
<pre><code>start() {
  echo -n &quot;Starting NFS is working: &quot;
  ${script} &amp;
  touch /var/lock/subsys/checking_nfs
  success $&quot;Checking NFS is started&quot;
  echo
}

stop() {
  echo -n &quot;Stopping NFS is working: &quot;
  killproc checking_nfs
  rm -f /var/lock/subsys/checking_nfs
  echo
}

restart() {
  stop
  start
}
</code></pre>
<p>Definimos las funciones que hará nuestro servicio, por lo general son los comandos que ejecutaremos para que funcione en sí el servicio.</p>
<pre><code>case &quot;$1&quot; in
  start)
    start
    ;;
  stop)
    stop
    ;;
  restart)
    restart
    ;;
  reload)
    exit 3
    ;;
  force-reload)
    restart
    ;;
  status)
    status checking_nfs
    ;;
  condrestart|try-restart)
    rhstatus &gt;/dev/null 2&gt;&amp;1 || exit 0
    restart
    ;;
  *)
    echo $&quot;Usage: $0 {start|stop|restart|condrestart|try-restart|reload|force-reload|status}&quot;
    exit 3
esac

exit $?
</code></pre>
<p>Este switch funciona cuando ejecutemos el comando <code>service check_nfs_working start|status|restart</code>, el parámetro recibido. :code:<code></code> <strong>¡No olvides asignarle permisos de ejecución!</strong></p>
<p>Elaborando el script que comprueba el servicio nfs</p>
<pre><code>#!/bin/bash

while :
do
  if [ -f /var/lock/subsys/nfs ]
  then
    echo &quot;El servicio NFS está funcionando&quot; &gt;&gt; /var/log/checking_nfs
  else
    echo &quot;Ha fallado el servicio NFS, se va a reiniciar&quot; &gt;&gt; /var/log/checking_nfs
    service nfs restart
  fi
  sleep 5
done
</code></pre>
<p>Este script permite comprobar si el fichero que genera el servicio de nfs está creado, si lo está vuelca en un archivo de log que existe y está funcionando (para revisiones futuras). En caso de que no exista el archivo, se reiniciará todo el servicio. Esta comprobación es infinita, <strong>es importante que el bucle sea infinito pero que contenga un :code:<code>sleep</code> para que no sature los recursos del sistema.</strong> Con el sleep definimos el tiempo (en segundos) que queremos que se compruebe. <strong>¡No olvides asignarle permisos de ejecución!</strong></p>
<h4 id="arrancando-el-servicio">Arrancando el servicio</h4>
<pre><code>sudo service check_nfs_working start
Starting NFS is working:                                   [  OK  ]
</code></pre>
<h4 id="consultando-el-servicio">Consultando el servicio</h4>
<pre><code>sudo service check_nfs_working status
checking_nfs (pid 9599 7158) is running...
</code></pre>
<h4 id="parando-el-servicio">Parando el servicio</h4>
<pre><code>sudo service check_nfs_working stop
Stopping NFS is working:                                   [  OK  ]
</code></pre>
<h4 id="habilitando-el-servicio-en-el-arranque">Habilitando el servicio en el arranque</h4>
<pre><code>sudo chkconfig check_nfs_working on
</code></pre>
<h4 id="comprobando-que-los-runlevels-son-los-que-hemos-configurado-en-el-servicio-o-demonio">Comprobando que los runlevels son los que hemos configurado en el servicio (o demonio)</h4>
<pre><code>sudo chkconfig --list check_nfs_working
check_nfs_working       0:off   1:off   2:on    3:on    4:on    5:on    6:off
</code></pre>
<p>Nota</p>
<p>Si los comparamos con el servicio, veremos que coinciden.</p>
<h4 id="desactivando-el-servicio-al-arranque">Desactivando el servicio al arranque</h4>
<pre><code>sudo chkconfig check_nfs_working off
</code></pre>
<h3 id="systemd">Systemd</h3>
<ul>
<li>Directorio de servicios locales: <code>/etc/systemd/</code></li>
<li>Directorio de servicios específicos por RPM instalados: <code>/usr/lib/systemd</code></li>
<li>Los logs se leen mediante <code>journalctl</code>, el resultado o salida de la ejecución de los servicios se almacenan en formato binario (más rápidez de lectura/escritura)</li>
<li>Existe paralelización al arranque/parada de servicios disminuyendo el tiempo de encendido/apagado</li>
<li>Elaborar un servicio es más fácil, no hay que definir los bloques de <code>start</code>, <code>stop</code>, <code>restart</code>, status como en SysVinit facilitando más la rápidez y legibilidad cuando se crea un servicio.</li>
</ul>
<h4 id="elaborando-un-servicio-no-demonio-para-systemd-rhel7">Elaborando un servicio (no demonio) para systemd (RHEL7)</h4>
<p>En systemd el concepto de demonio (daemon) se pierde, no se menciona, solo se comenta el uso de servicio.</p>
<h4 id="creando-el-servicio-etcsystemdsystemcheck_nfs_workingservice">Creando el servicio /etc/systemd/system/check_nfs_working.service</h4>
<pre><code>[Unit]
Description=Checking if NFS is working
After=network.target

[Service]
Type=simple

User=root
ExecStart=/admin/bin/check_nfs_working.sh
Restart=on-failure

[Install]
WantedBy=multi-user.target
</code></pre>
<p>Como ves, la diferencia está muy clara. Vamos a explicar este bloque declarativo.</p>
<p>En <code>systemd</code>, los <code>Units</code> pueden contener servicios abstractos, recursos de red, dispositivos, sistemas de archivos montados, y recursos aislados, por lo que es más que una definición.</p>
<pre><code>[Unit]
Description=Checking if NFS is working
After=network.target
</code></pre>
<p>Por ejemplo, aquí decimos que se arranque este servicio después de que el <code>network.target</code> se haya completado, que quiere decir, cuando la red esté lista, arranca este servicio.</p>
<p>Nota</p>
<p>Los targets vienen siendo un símil a los runlevels.</p>
<pre><code>[Service]
Type=simple

User=root
ExecStart=/admin/bin/check_nfs_working.sh
Restart=on-failure
</code></pre>
<p>Definimos la información del servicio, ¿Cómo debe ejecutarse? ¿Qué tiene que hacer? ¿Qué ocurre si se reinicia? ¿Se crean hilos o subprocesos?</p>
<pre><code>[Install]
WantedBy=multi-user.target
</code></pre>
<p>Definimos en qué runlevel debe arrancar este servicio.</p>
<h4 id="elaborando-el-script-que-comprueba-el-servicio-nfs-adminbincheck_nfs_workingsh">Elaborando el script que comprueba el servicio nfs /admin/bin/check_nfs_working.sh</h4>
<pre><code>#!/bin/bash

while :
do
  checkProcess=$(systemctl status nfs |grep Active |awk '{print $2}')

  if [ &quot;${checkProcess}&quot; == &quot;active&quot; ]
  then
    echo &quot;El proceso está funcionando correctamente.&quot;
  else
    systemctl restart nfs
    echo &quot;El proceso no está funcionando correctamente.&quot;

  fi
  sleep 5
done
</code></pre>
<p>Este script permite comprobar si el servicio nfs está funcionando, si lo está vuelca en un archivo de log que existe y está funcionando (para revisiones futuras). En caso de que no exista el archivo, se reiniciará todo el servicio. Esta comprobación es infinita, <strong>es importante que el bucle sea infinito pero que contenga un sleep para que no sature los recursos del sistema.</strong> Con el sleep definimos el tiempo (en segundos) que queremos que se compruebe. <strong>¡No olvides asignarle permisos de ejecución!</strong></p>
<h4 id="arrancando-el-servicio_1">Arrancando el servicio</h4>
<pre><code>sudo systemctl start_nfs_working
</code></pre>
<h4 id="consultando-el-servicio_1">Consultando el servicio</h4>
<pre><code>sudo systemctl status checking_nfs_working.service
● check_nfs_working.service - Checking if daemon is working
   Loaded: loaded (/etc/systemd/system/check_nfs_working.service; disabled; vendor preset: disabled)
   Active: active (running) since Fri 2019-10-04 11:19:02 CEST; 1s ago
 Main PID: 24600 (check_nfs_worki)
   CGroup: /system.slice/check_nfs_working.service
           ├─24600 /bin/bash /admin/bin/check_nfs_working.sh
           └─24605 sleep 5

Oct 04 11:19:02 server systemd[1]: Started Checking if daemon is working.
Oct 04 11:19:02 server check_nfs_working.sh[24600]: El proceso está funcionando correctamente.
</code></pre>
<h4 id="parando-el-servicio_1">Parando el servicio</h4>
<pre><code>sudo systemctl stop check_nfs_working.service
</code></pre>
<h4 id="habilitando-el-servicio-en-el-arranque_1">Habilitando el servicio en el arranque</h4>
<pre><code>sudo systemctl enable check_nfs_working.service
</code></pre>
<h4 id="comprobando-si-esta-habilitado-al-arranque">Comprobando si está habilitado al arranque</h4>
<pre><code>sudo systemctl is-enabled check_nfs_working.service
disabled
</code></pre>
<p>Nota</p>
<p>Si los comparamos con el servicio, veremos que coinciden.</p>
<h4 id="desactivando-el-servicio-al-arranque_1">Desactivando el servicio al arranque</h4>
<pre><code>sudo systemctl disable check_nfs_working.service
</code></pre>
<h2 id="fuentes">Fuentes</h2>
<ul>
<li><a href="https://www.devdungeon.com/content/creating-systemd-service-files">Creating systemd service files</a></li>
<li><a href="https://wiki.debian.org/LSBInitScripts/">Debian Wiki LSB Init Scripts</a></li>
<li><a href="https://www.cyberciti.biz/tips/linux-write-sys-v-init-script-to-start-stop-service.html">Linux Write Sys V init to start stop service</a></li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../" class="btn btn-neutral" title="Introducción"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script>var base_url = '../../../..';</script>
    <script src="../../../../js/theme_extra.js" defer></script>
    <script src="../../../../js/theme.js" defer></script>
      <script src="../../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
